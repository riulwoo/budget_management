"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[726],{726:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var l=a(540),r=a(591),c=a(17),s=a(688);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,r,c,s,n=[],m=!0,i=!1;try{if(c=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;m=!1}else for(;!(m=(l=c.call(a)).done)&&(n.push(l.value),n.length!==t);m=!0);}catch(e){i=!0,r=e}finally{try{if(!m&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(i)throw r}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=Array(t);a<t;a++)l[a]=e[a];return l}const i=function(){var e,t,a=(0,r.A)().currentUser,m=(0,c.E)(),i=m.transactions,d=m.categories,o=m.monthlyStats,u=(m.currentMonth,m.setCurrentMonth,m.loading,n((0,l.useState)("month"),2)),b=u[0],f=u[1],E=n((0,l.useState)([]),2),g=E[0],N=E[1];(0,l.useEffect)(function(){if(i.length){var e={};i.forEach(function(t){var a=d.find(function(e){return e.id===t.category_id});a&&(e[a.id]||(e[a.id]={id:a.id,name:a.name,color:a.color,type:a.type,total:0,count:0}),e[a.id].total+=parseFloat(t.amount),e[a.id].count+=1)});var t=Object.values(e).filter(function(e){return"income"===e.type}).sort(function(e,t){return t.total-e.total}),a=Object.values(e).filter(function(e){return"expense"===e.type}).sort(function(e,t){return t.total-e.total});N({income:t,expense:a})}},[i,d]);var p=function(e){f(e)},y=function(e,t){return 0===t?0:(e/t*100).toFixed(1)};if(!a)return l.createElement("div",{className:"text-center mt-5"},l.createElement("h3",null,"로그인이 필요합니다"),l.createElement("p",null,"통계 보기를 위해 로그인해주세요."));var x=(null===(e=o.income)||void 0===e?void 0:e.total)||0,v=(null===(t=o.expense)||void 0===t?void 0:t.total)||0,h=x-v;return l.createElement("div",{className:"statistics-page"},l.createElement("div",{className:"d-flex justify-content-between align-items-center mb-4"},l.createElement("div",null,l.createElement("h2",{className:"mb-1",style:{color:"#2c3e50",fontWeight:"700"}},l.createElement("i",{className:"fas fa-chart-line me-2 text-primary"}),"통계 대시보드"),l.createElement("p",{className:"text-muted mb-0"},"재정 상태를 한눈에 확인하세요")),l.createElement("div",{className:"btn-group shadow-sm"},l.createElement("button",{className:"btn ".concat("month"===b?"btn-primary":"btn-outline-primary"),onClick:function(){return p("month")},style:{borderRadius:"10px 0 0 10px"}},l.createElement("i",{className:"fas fa-calendar-alt me-1"}),"월별"),l.createElement("button",{className:"btn ".concat("year"===b?"btn-primary":"btn-outline-primary"),onClick:function(){return p("year")},style:{borderRadius:"0 10px 10px 0"}},l.createElement("i",{className:"fas fa-chart-bar me-1"}),"연도별"))),l.createElement("div",{className:"row g-4 mb-5"},l.createElement("div",{className:"col-md-3"},l.createElement("div",{className:"card border-0 shadow-sm h-100",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px"}},l.createElement("div",{className:"card-body text-center text-white p-4"},l.createElement("div",{className:"mb-3"},l.createElement("i",{className:"fas fa-arrow-up fa-2x",style:{opacity:.9}})),l.createElement("h6",{className:"card-subtitle mb-2",style:{opacity:.8}},"총 수입"),l.createElement("h3",{className:"card-title mb-2",style:{fontWeight:"700"}},(0,s.ej)(x)),l.createElement("div",{className:"progress",style:{height:"4px",backgroundColor:"rgba(255,255,255,0.2)"}},l.createElement("div",{className:"progress-bar",style:{width:"100%",backgroundColor:"rgba(255,255,255,0.8)"}}))))),l.createElement("div",{className:"col-md-3"},l.createElement("div",{className:"card border-0 shadow-sm h-100",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",borderRadius:"20px"}},l.createElement("div",{className:"card-body text-center text-white p-4"},l.createElement("div",{className:"mb-3"},l.createElement("i",{className:"fas fa-arrow-down fa-2x",style:{opacity:.9}})),l.createElement("h6",{className:"card-subtitle mb-2",style:{opacity:.8}},"총 지출"),l.createElement("h3",{className:"card-title mb-2",style:{fontWeight:"700"}},(0,s.ej)(v)),l.createElement("div",{className:"progress",style:{height:"4px",backgroundColor:"rgba(255,255,255,0.2)"}},l.createElement("div",{className:"progress-bar",style:{width:v>0?"100%":"0%",backgroundColor:"rgba(255,255,255,0.8)"}}))))),l.createElement("div",{className:"col-md-3"},l.createElement("div",{className:"card border-0 shadow-sm h-100",style:{background:h>=0?"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)":"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",borderRadius:"20px"}},l.createElement("div",{className:"card-body text-center text-white p-4"},l.createElement("div",{className:"mb-3"},l.createElement("i",{className:"fas ".concat(h>=0?"fa-chart-line":"fa-exclamation-triangle"," fa-2x"),style:{opacity:.9}})),l.createElement("h6",{className:"card-subtitle mb-2",style:{opacity:.8}},"순이익"),l.createElement("h3",{className:"card-title mb-1",style:{fontWeight:"700"}},(0,s.ej)(Math.abs(h))),l.createElement("small",{className:"badge",style:{backgroundColor:"rgba(255,255,255,0.2)",fontSize:"0.75em"}},h>=0?"흑자":"적자")))),l.createElement("div",{className:"col-md-3"},l.createElement("div",{className:"card border-0 shadow-sm h-100",style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",borderRadius:"20px"}},l.createElement("div",{className:"card-body text-center text-white p-4"},l.createElement("div",{className:"mb-3"},l.createElement("i",{className:"fas fa-receipt fa-2x text-dark",style:{opacity:.7}})),l.createElement("h6",{className:"card-subtitle mb-2 text-dark",style:{opacity:.7}},"거래 건수"),l.createElement("h3",{className:"card-title mb-2 text-dark",style:{fontWeight:"700"}},i.length,"건"),l.createElement("div",{className:"progress",style:{height:"4px",backgroundColor:"rgba(0,0,0,0.1)"}},l.createElement("div",{className:"progress-bar bg-dark",style:{width:i.length>0?"100%":"0%",opacity:.6}})))))),l.createElement("div",{className:"row g-4"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"card border-0 shadow-sm",style:{borderRadius:"20px"}},l.createElement("div",{className:"card-header bg-transparent border-0 pb-0",style:{borderRadius:"20px 20px 0 0"}},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"me-3"},l.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},l.createElement("i",{className:"fas fa-arrow-up text-white"}))),l.createElement("div",null,l.createElement("h5",{className:"mb-1",style:{color:"#2c3e50",fontWeight:"600"}},"수입 카테고리"),l.createElement("p",{className:"text-muted mb-0 small"},"카테고리별 수입 분석")))),l.createElement("div",{className:"card-body pt-3"},g.income&&g.income.length>0?g.income.slice(0,5).map(function(e,t){return l.createElement("div",{key:e.id,className:"mb-4"},l.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"rounded-circle me-3",style:{width:"12px",height:"12px",backgroundColor:e.color}}),l.createElement("div",null,l.createElement("span",{className:"fw-semibold",style:{color:"#2c3e50"}},e.name),l.createElement("small",{className:"text-muted ms-2"},l.createElement("i",{className:"fas fa-receipt me-1"}),e.count,"건"))),l.createElement("div",{className:"text-end"},l.createElement("div",{className:"fw-bold",style:{color:"#27ae60",fontSize:"1.1em"}},(0,s.ej)(e.total)),l.createElement("small",{className:"text-muted"},y(e.total,x),"%"))),l.createElement("div",{className:"progress",style:{height:"6px",borderRadius:"10px"}},l.createElement("div",{className:"progress-bar",style:{width:"".concat(y(e.total,x),"%"),background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px"}})))}):l.createElement("div",{className:"text-center py-4"},l.createElement("i",{className:"fas fa-inbox text-muted mb-3",style:{fontSize:"3rem",opacity:.5}}),l.createElement("p",{className:"text-muted mb-0"},"수입 데이터가 없습니다."))))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"card border-0 shadow-sm",style:{borderRadius:"20px"}},l.createElement("div",{className:"card-header bg-transparent border-0 pb-0",style:{borderRadius:"20px 20px 0 0"}},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"me-3"},l.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},l.createElement("i",{className:"fas fa-arrow-down text-white"}))),l.createElement("div",null,l.createElement("h5",{className:"mb-1",style:{color:"#2c3e50",fontWeight:"600"}},"지출 카테고리"),l.createElement("p",{className:"text-muted mb-0 small"},"카테고리별 지출 분석")))),l.createElement("div",{className:"card-body pt-3"},g.expense&&g.expense.length>0?g.expense.slice(0,5).map(function(e,t){return l.createElement("div",{key:e.id,className:"mb-4"},l.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"rounded-circle me-3",style:{width:"12px",height:"12px",backgroundColor:e.color}}),l.createElement("div",null,l.createElement("span",{className:"fw-semibold",style:{color:"#2c3e50"}},e.name),l.createElement("small",{className:"text-muted ms-2"},l.createElement("i",{className:"fas fa-receipt me-1"}),e.count,"건"))),l.createElement("div",{className:"text-end"},l.createElement("div",{className:"fw-bold",style:{color:"#e74c3c",fontSize:"1.1em"}},(0,s.ej)(e.total)),l.createElement("small",{className:"text-muted"},y(e.total,v),"%"))),l.createElement("div",{className:"progress",style:{height:"6px",borderRadius:"10px"}},l.createElement("div",{className:"progress-bar",style:{width:"".concat(y(e.total,v),"%"),background:"linear-gradient(90deg, #f093fb 0%, #f5576c 100%)",borderRadius:"10px"}})))}):l.createElement("div",{className:"text-center py-4"},l.createElement("i",{className:"fas fa-inbox text-muted mb-3",style:{fontSize:"3rem",opacity:.5}}),l.createElement("p",{className:"text-muted mb-0"},"지출 데이터가 없습니다.")))))),l.createElement("div",{className:"row g-4 mt-3"},l.createElement("div",{className:"col-md-12"},l.createElement("div",{className:"card border-0 shadow-sm",style:{borderRadius:"20px"}},l.createElement("div",{className:"card-header bg-transparent border-0 pb-0"},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"me-3"},l.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},l.createElement("i",{className:"fas fa-calendar-day text-white"}))),l.createElement("div",null,l.createElement("h5",{className:"mb-1",style:{color:"#2c3e50",fontWeight:"600"}},"일별 거래 현황"),l.createElement("p",{className:"text-muted mb-0 small"},"최근 10일간의 수입/지출 내역")))),l.createElement("div",{className:"card-body pt-3"},i.length>0?l.createElement("div",{className:"row g-3"},Object.entries(i.reduce(function(e,t){var a=t.date;return e[a]||(e[a]={income:0,expense:0}),"income"===t.type?e[a].income+=parseFloat(t.amount):e[a].expense+=parseFloat(t.amount),e},{})).sort(function(e,t){var a=n(e,1)[0],l=n(t,1)[0];return new Date(l)-new Date(a)}).slice(0,6).map(function(e){var t=n(e,2),a=t[0],r=t[1],c=r.income-r.expense;return l.createElement("div",{key:a,className:"col-md-4 col-sm-6"},l.createElement("div",{className:"card border-0",style:{background:c>=0?"linear-gradient(135deg, rgba(39, 174, 96, 0.1) 0%, rgba(39, 174, 96, 0.05) 100%)":"linear-gradient(135deg, rgba(231, 76, 60, 0.1) 0%, rgba(231, 76, 60, 0.05) 100%)",borderRadius:"15px"}},l.createElement("div",{className:"card-body p-3 text-center"},l.createElement("div",{className:"d-flex align-items-center justify-content-center mb-2"},l.createElement("i",{className:"fas fa-calendar-alt text-muted me-2"}),l.createElement("span",{className:"fw-semibold",style:{color:"#2c3e50",fontSize:"0.9em"}},new Date(a).toLocaleDateString("ko-KR",{month:"short",day:"numeric"}))),l.createElement("div",{className:"mb-2"},l.createElement("div",{className:"d-flex justify-content-between align-items-center mb-1"},l.createElement("small",{className:"text-muted"},"수입"),l.createElement("span",{className:"fw-bold",style:{color:"#27ae60",fontSize:"0.8em"}},r.income>0?(0,s.ej)(r.income):"-")),l.createElement("div",{className:"d-flex justify-content-between align-items-center mb-1"},l.createElement("small",{className:"text-muted"},"지출"),l.createElement("span",{className:"fw-bold",style:{color:"#e74c3c",fontSize:"0.8em"}},r.expense>0?(0,s.ej)(r.expense):"-"))),l.createElement("div",{className:"border-top pt-2"},l.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.createElement("small",{className:"fw-semibold text-muted"},"순액"),l.createElement("span",{className:"fw-bold ".concat(c>=0?"text-success":"text-danger"),style:{fontSize:"0.9em"}},(0,s.ej)(Math.abs(c)),l.createElement("small",{className:"ms-1"},c>=0?"흑자":"적자")))))))})):l.createElement("div",{className:"text-center py-5"},l.createElement("i",{className:"fas fa-chart-line text-muted mb-3",style:{fontSize:"4rem",opacity:.3}}),l.createElement("h6",{className:"text-muted"},"거래 데이터가 없습니다"),l.createElement("p",{className:"text-muted small mb-0"},"거래를 추가하면 일별 통계를 확인할 수 있습니다.")))))),l.createElement("div",{className:"row g-4 mt-3"},l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"card border-0 shadow-sm",style:{borderRadius:"20px"}},l.createElement("div",{className:"card-header bg-transparent border-0 pb-2"},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"me-3"},l.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"45px",height:"45px",background:"linear-gradient(135deg, #27ae60 0%, #2ecc71 100%)"}},l.createElement("i",{className:"fas fa-arrow-up text-white"}))),l.createElement("div",null,l.createElement("h6",{className:"mb-0",style:{color:"#2c3e50",fontWeight:"600"}},"수입 카테고리"),l.createElement("small",{className:"text-muted"},"상위 5개 카테고리")))),l.createElement("div",{className:"card-body pt-2"},g.income&&g.income.length>0?l.createElement("div",{className:"space-y-3"},g.income.slice(0,5).map(function(e,t){return l.createElement("div",{key:e.id,className:"d-flex align-items-center justify-content-between p-3 rounded-3",style:{background:"linear-gradient(135deg, rgba(39, 174, 96, 0.05) 0%, rgba(46, 204, 113, 0.02) 100%)"}},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"rounded-circle me-3",style:{width:"12px",height:"12px",backgroundColor:e.color,boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),l.createElement("div",null,l.createElement("span",{className:"fw-semibold",style:{color:"#2c3e50",fontSize:"0.9em"}},e.name),l.createElement("div",{className:"text-muted small mt-1"},l.createElement("i",{className:"fas fa-chart-bar me-1",style:{fontSize:"0.7em"}}),e.count,"건의 거래"))),l.createElement("div",{className:"text-end"},l.createElement("span",{className:"badge rounded-pill",style:{background:"linear-gradient(135deg, #27ae60 0%, #2ecc71 100%)",color:"white",fontSize:"0.75em"}},"#",t+1)))})):l.createElement("div",{className:"text-center py-4"},l.createElement("i",{className:"fas fa-tags text-muted mb-2",style:{fontSize:"2rem",opacity:.3}}),l.createElement("p",{className:"text-muted small mb-0"},"수입 카테고리가 없습니다"))))),l.createElement("div",{className:"col-md-6"},l.createElement("div",{className:"card border-0 shadow-sm",style:{borderRadius:"20px"}},l.createElement("div",{className:"card-header bg-transparent border-0 pb-2"},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"me-3"},l.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center",style:{width:"45px",height:"45px",background:"linear-gradient(135deg, #e74c3c 0%, #ec7063 100%)"}},l.createElement("i",{className:"fas fa-arrow-down text-white"}))),l.createElement("div",null,l.createElement("h6",{className:"mb-0",style:{color:"#2c3e50",fontWeight:"600"}},"지출 카테고리"),l.createElement("small",{className:"text-muted"},"상위 5개 카테고리")))),l.createElement("div",{className:"card-body pt-2"},g.expense&&g.expense.length>0?l.createElement("div",{className:"space-y-3"},g.expense.slice(0,5).map(function(e,t){return l.createElement("div",{key:e.id,className:"d-flex align-items-center justify-content-between p-3 rounded-3",style:{background:"linear-gradient(135deg, rgba(231, 76, 60, 0.05) 0%, rgba(236, 112, 99, 0.02) 100%)"}},l.createElement("div",{className:"d-flex align-items-center"},l.createElement("div",{className:"rounded-circle me-3",style:{width:"12px",height:"12px",backgroundColor:e.color,boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),l.createElement("div",null,l.createElement("span",{className:"fw-semibold",style:{color:"#2c3e50",fontSize:"0.9em"}},e.name),l.createElement("div",{className:"text-muted small mt-1"},l.createElement("i",{className:"fas fa-chart-bar me-1",style:{fontSize:"0.7em"}}),e.count,"건의 거래"))),l.createElement("div",{className:"text-end"},l.createElement("span",{className:"badge rounded-pill",style:{background:"linear-gradient(135deg, #e74c3c 0%, #ec7063 100%)",color:"white",fontSize:"0.75em"}},"#",t+1)))})):l.createElement("div",{className:"text-center py-4"},l.createElement("i",{className:"fas fa-tags text-muted mb-2",style:{fontSize:"2rem",opacity:.3}}),l.createElement("p",{className:"text-muted small mb-0"},"지출 카테고리가 없습니다")))))))}}}]);