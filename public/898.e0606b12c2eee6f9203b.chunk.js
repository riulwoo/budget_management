/*! For license information please see 898.e0606b12c2eee6f9203b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[898],{898:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(540),r=a(591),l=a(688),c=a(582);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){i(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function i(e,t,a){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=d(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(){var e,t,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function l(a,n,r,l){var o=n&&n.prototype instanceof s?n:s,i=Object.create(o.prototype);return u(i,"_invoke",function(a,n,r){var l,s,o,i=0,m=r||[],u=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,a){return l=t,s=0,o=e,d.n=a,c}};function f(a,n){for(s=a,o=n,t=0;!u&&i&&!r&&t<m.length;t++){var r,l=m[t],f=d.p,p=l[2];a>3?(r=p===n)&&(o=l[(s=l[4])?5:(s=3,3)],l[4]=l[5]=e):l[0]<=f&&((r=a<2&&f<l[1])?(s=0,d.v=n,d.n=l[1]):f<p&&(r=a<3||l[0]>n||n>p)&&(l[4]=a,l[5]=n,d.n=p,s=0))}if(r||a>1)return c;throw u=!0,n}return function(r,m,p){if(i>1)throw TypeError("Generator is already running");for(u&&1===m&&f(m,p),s=m,o=p;(t=s<2?e:o)||!u;){l||(s?s<3?(s>1&&(d.n=-1),f(s,o)):d.n=o:d.v=o);try{if(i=2,l){if(s||(r="next"),t=l[r]){if(!(t=t.call(l,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,s<2&&(s=0)}else 1===s&&(t=l.return)&&t.call(l),s<2&&(o=TypeError("The iterator does not provide a '"+r+"' method"),s=1);l=e}else if((t=(u=d.n<0)?o:a.call(n,d))!==c)break}catch(t){l=e,s=1,o=t}finally{i=1}}return{value:t,done:u}}}(a,r,l),!0),i}var c={};function s(){}function o(){}function i(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),f=i.prototype=s.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,u(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return o.prototype=i,u(f,"constructor",i),u(i,"constructor",o),o.displayName="GeneratorFunction",u(i,r,"GeneratorFunction"),u(f),u(f,r,"Generator"),u(f,n,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(m=function(){return{w:l,m:p}})()}function u(e,t,a,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}u=function(e,t,a,n){function l(t,a){u(e,t,function(e){return this._invoke(t,a,e)})}t?r?r(e,t,{value:a,enumerable:!n,configurable:!n,writable:!n}):e[t]=a:(l("next",0),l("throw",1),l("return",2))},u(e,t,a,n)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t,a,n,r,l,c){try{var s=e[l](c),o=s.value}catch(e){return void a(e)}s.done?t(o):Promise.resolve(o).then(n,r)}function p(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var l=e.apply(t,a);function c(e){f(l,n,r,c,s,"next",e)}function s(e){f(l,n,r,c,s,"throw",e)}c(void 0)})}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,c,s=[],o=!0,i=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(n=l.call(a)).done)&&(s.push(n.value),s.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{if(!o&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(i)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const y=function(){console.log("🔄 Memos 컴포넌트 렌더링");var e=(0,r.A)(),t=e.currentUser,a=e.authToken,s=(0,c.A)("(max-width: 768px)");console.log("Memos 상태:",{hasUser:!!t,hasToken:!!a,userName:null==t?void 0:t.username,isMobile:s});var i=(0,n.useRef)(!1),u=function(e){try{return e?(t="string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(e+"T00:00:00"):new Date(e),isNaN(t.getTime())?(console.warn("유효하지 않은 날짜:",e),"잘못된 날짜"):t.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})):"날짜 없음";var t}catch(t){return console.warn("날짜 포맷팅 오류:",t,e),"날짜 오류"}},f=(0,n.useRef)(null),g=b((0,n.useState)([]),2),y=g[0],E=g[1],v=b((0,n.useState)({current:1,limit:10,total:0,pages:1}),2),N=v[0],h=v[1],k=b((0,n.useState)(!1),2),w=k[0],x=k[1],S=b((0,n.useState)(""),2),C=S[0],O=S[1],j=b((0,n.useState)(!1),2),_=j[0],T=j[1],I=b((0,n.useState)(null),2),P=I[0],z=I[1],R=b((0,n.useState)(t?"my":"public"),2),D=R[0],A=R[1],F=b((0,n.useState)({title:"",content:"",date:(new Date).toISOString().split("T")[0],priority:"medium",visibility:"private",is_completed:!1}),2),M=F[0],U=F[1],H=(0,n.useCallback)(p(m().m(function e(){var a,n,r,c,s,o,u,p,b,g=arguments;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=g.length>0&&void 0!==g[0]?g[0]:1,n=g.length>1&&void 0!==g[1]?g[1]:C,r="".concat(D,"-").concat((null==t?void 0:t.id)||"anonymous","-").concat(a,"-").concat(n),!i.current){e.n=1;break}return console.log("⏳ Memos 로딩 중 - 요청 건너뜀"),e.a(2);case 1:if(f.current!==r){e.n=2;break}return console.log("⏭️ 동일한 파라미터로 이미 로드됨:",r),e.a(2);case 2:if(e.p=2,i.current=!0,f.current=r,x(!0),console.log("🚀 메모 API 호출:",r),s={},"my"!==D){e.n=4;break}if(t){e.n=3;break}return console.log("사용자가 로그인되지 않음"),x(!1),e.a(2);case 3:c="/memos/my?page=".concat(a,"&limit=10&search=").concat(encodeURIComponent(n)),(o=localStorage.getItem("authToken"))&&(s.token=o),e.n=5;break;case 4:c="/memos/public?page=".concat(a,"&limit=10&search=").concat(encodeURIComponent(n));case 5:return console.log("메모 로드 요청:",c,s),e.n=6,(0,l.H2)(c,s);case 6:(u=e.v).memos&&u.memos.length>0&&(console.log("📅 메모 데이터 상세:",u.memos.map(function(e){return{id:e.id,title:e.title,date:e.date,dateType:d(e.date),user_id:e.user_id,username:e.username,visibility:e.visibility,hasUserId:!!e.user_id}})),"public"===D&&(p=u.memos.filter(function(e){return!e.user_id})).length>0&&console.warn("⚠️ user_id가 누락된 공개 메모들:",p)),E(u.memos||[]),h(u.pagination||{current:1,limit:10,total:0,pages:1}),e.n=8;break;case 7:e.p=7,b=e.v,console.error("메모 로드 오류:",b),console.error("오류 상세:",b.message),console.error("오류 스택:",b.stack),E([]),h({current:1,limit:10,total:0,pages:1}),console.warn("메모를 불러오는데 실패했습니다: ".concat(b.message||"알 수 없는 오류"));case 8:return e.p=8,x(!1),i.current=!1,e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])})),[]),G=((0,n.useRef)(!1),b((0,n.useState)(!1),2)),L=G[0],J=G[1];(0,n.useEffect)(function(){console.log("🔄 Memos useEffect 실행",{viewMode:D,hasUser:!!t,pageInitialized:L}),L?console.log("✅ 메모 페이지 이미 초기화됨 - 스킵"):"my"!==D||t?(console.log("🚀 메모 초기 로딩 시작"),J(!0),H(1)):console.log("❌ 로그인되지 않은 상태에서 my 모드 - 로딩 안 함")},[D,t,L]);var W=function(e){H(e)},$=function(e){try{if(!e)return(new Date).toISOString().split("T")[0];var t=new Date(e);return isNaN(t.getTime())?(new Date).toISOString().split("T")[0]:t.toISOString().split("T")[0]}catch(e){return console.warn("날짜 입력 변환 오류:",e),(new Date).toISOString().split("T")[0]}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(z(e),U({title:e.title,content:e.content,date:$(e.date),priority:e.priority,visibility:e.visibility,is_completed:e.is_completed})):(z(null),U({title:"",content:"",date:(new Date).toISOString().split("T")[0],priority:"medium",visibility:"private",is_completed:!1})),T(!0)},B=function(){T(!1),z(null)},K=function(){var e=p(m().m(function e(n){var r,c,s;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n.preventDefault(),M.title.trim()){e.n=1;break}return alert("제목을 입력해주세요."),e.a(2);case 1:if(console.log("메모 저장 시도:",M),console.log("사용할 토큰:",a),console.log("현재 사용자:",t),console.log("편집 중인 메모:",P),a){e.n=2;break}return alert("로그인이 필요합니다."),e.a(2);case 2:if(e.p=2,r=a,!P){e.n=4;break}return console.log("메모 수정 요청:",{memoId:P.id,userId:null==t?void 0:t.id,formData:M}),e.n=3,(0,l.H2)("/memos/".concat(P.id),{method:"PUT",token:r,body:JSON.stringify(M)});case 3:c=e.v,e.n=6;break;case 4:return console.log("메모 생성:",M),e.n=5,(0,l.H2)("/memos",{method:"POST",token:r,body:JSON.stringify(M)});case 5:c=e.v;case 6:console.log("API 응답:",c),B(),H(N.current),e.n=8;break;case 7:e.p=7,s=e.v,console.error("메모 저장 오류:",s),console.error("오류 상세:",s.message,s.stack),s.message&&s.message.includes("권한이 없습니다")?alert("메모를 수정할 권한이 없습니다. 본인이 작성한 메모만 수정할 수 있습니다."):alert("메모 저장에 실패했습니다: ".concat(s.message||"알 수 없는 오류"));case 8:return e.a(2)}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=p(m().m(function e(n){var r,c;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(window.confirm("정말로 이 메모를 삭제하시겠습니까?")){e.n=1;break}return e.a(2);case 1:return console.log("메모 삭제 요청:",{memoId:n,userId:null==t?void 0:t.id,token:!!a}),e.p=2,r=a,e.n=3,(0,l.H2)("/memos/".concat(n),{method:"DELETE",token:r});case 3:console.log("메모 삭제 성공:",n),H(N.current),e.n=5;break;case 4:e.p=4,c=e.v,console.error("메모 삭제 오류:",c),c.message&&c.message.includes("권한이 없습니다")?alert("메모를 삭제할 권한이 없습니다. 본인이 작성한 메모만 삭제할 수 있습니다."):alert("메모 삭제에 실패했습니다: ".concat(c.message||"알 수 없는 오류"));case 5:return e.a(2)}},e,null,[[2,4]])}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=p(m().m(function e(n){var r,c;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return console.log("완료 상태 토글 요청:",{memoId:n,userId:null==t?void 0:t.id,token:!!a}),e.p=1,r=a,e.n=2,(0,l.H2)("/memos/".concat(n,"/toggle"),{method:"PATCH",token:r});case 2:console.log("완료 상태 토글 성공:",n),H(N.current),e.n=4;break;case 3:e.p=3,c=e.v,console.error("완료 상태 변경 오류:",c),c.message&&c.message.includes("권한이 없습니다")?alert("메모를 수정할 권한이 없습니다. 본인이 작성한 메모만 수정할 수 있습니다."):alert("완료 상태 변경에 실패했습니다: ".concat(c.message||"알 수 없는 오류"));case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),X=function(e){switch(e){case"high":return"badge bg-danger";case"medium":return"badge bg-warning";default:return"badge bg-secondary"}},Y=function(e){switch(e){case"high":return"높음";case"medium":default:return"보통";case"low":return"낮음"}},Z=function(e){return!(!t||!e.user_id)&&String(t.id)===String(e.user_id)};return n.createElement("div",{className:"memos-page"},n.createElement("div",{className:"row align-items-center mb-4"},n.createElement("div",{className:"col-12 mb-3"},n.createElement("div",{className:"d-flex justify-content-between align-items-start"},n.createElement("div",null,n.createElement("h2",{className:"".concat(s?"h4":"")},n.createElement("i",{className:"fas fa-sticky-note me-2"}),"메모 관리"),n.createElement("p",{className:"text-muted mb-0 small"},"일정과 아이디어를 기록하고 관리하세요")),s&&t&&"my"===D&&n.createElement("button",{className:"btn btn-primary btn-sm rounded-pill px-3",onClick:function(){return q()}},n.createElement("i",{className:"fas fa-plus me-1"}),"추가"))),n.createElement("div",{className:"col-12"},n.createElement("div",{className:"d-flex ".concat(s?"flex-column gap-3":"justify-content-between align-items-center")},n.createElement("div",{className:"btn-group w-100",role:"group",style:{maxWidth:s?"100%":"300px"}},t&&n.createElement(n.Fragment,null,n.createElement("input",{type:"radio",className:"btn-check",name:"viewMode",id:"my",checked:"my"===D,onChange:function(){A("my"),J(!1)}}),n.createElement("label",{className:"btn btn-outline-primary ".concat(s?"py-2":""),htmlFor:"my"},n.createElement("i",{className:"fas fa-user me-2"}),"내 메모")),n.createElement("input",{type:"radio",className:"btn-check",name:"viewMode",id:"public",checked:"public"===D,onChange:function(){A("public"),J(!1)}}),n.createElement("label",{className:"btn btn-outline-primary ".concat(s?"py-2":""),htmlFor:"public"},n.createElement("i",{className:"fas fa-globe me-2"}),"공개 메모")),!s&&t&&"my"===D&&n.createElement("button",{className:"btn btn-primary",onClick:function(){return q()}},n.createElement("i",{className:"fas fa-plus me-2"}),"메모 추가")))),!t&&n.createElement("div",{className:"alert alert-info mb-4"},n.createElement("i",{className:"fas fa-info-circle me-2"}),"현재 공개 메모만 보고 계십니다. ",n.createElement("strong",null,"로그인"),"하시면 개인 메모를 작성하고 관리할 수 있습니다."),n.createElement("div",{className:"card mb-4 ".concat(s?"shadow-sm border-0":""),style:s?{borderRadius:"20px",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)"}:{}},n.createElement("div",{className:"card-body ".concat(s?"p-3":"")},n.createElement("form",{onSubmit:function(e){e.preventDefault(),H(1,C)},className:s?"row g-3 align-items-center":"row g-3"},s?n.createElement(n.Fragment,null,n.createElement("div",{className:"col-12"},n.createElement("div",{className:"position-relative"},n.createElement("i",{className:"fas fa-search position-absolute top-50 translate-middle-y text-muted",style:{left:"1rem",zIndex:10,fontSize:"0.9em",pointerEvents:"none"}}),n.createElement("input",{type:"text",className:"form-control border-0 shadow-sm",placeholder:"메모 검색...",value:C,onChange:function(e){return O(e.target.value)},style:{borderRadius:"30px",fontSize:"0.95em",paddingLeft:"3rem",paddingRight:"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",backgroundColor:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}))),n.createElement("div",{className:"col-12"},n.createElement("button",{type:"submit",className:"btn btn-primary w-100 rounded-pill shadow-sm d-flex align-items-center justify-content-center gap-2",style:{fontSize:"0.95em",padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #007bff 0%, #0056b3 100%)",border:"none",fontWeight:"500"}},n.createElement("i",{className:"fas fa-search"}),n.createElement("span",null,"검색하기")))):n.createElement(n.Fragment,null,n.createElement("div",{className:"col-md-10"},n.createElement("div",{className:"position-relative"},n.createElement("i",{className:"fas fa-search position-absolute top-50 translate-middle-y ms-3 text-muted"}),n.createElement("input",{type:"text",className:"form-control ps-5",placeholder:"메모 제목이나 내용으로 검색...",value:C,onChange:function(e){return O(e.target.value)},style:{borderRadius:"10px"}}))),n.createElement("div",{className:"col-md-2"},n.createElement("button",{type:"submit",className:"btn btn-primary w-100 rounded-pill"},n.createElement("i",{className:"fas fa-search me-1"}),"검색")))))),n.createElement("div",{className:"card"},n.createElement("div",{className:"card-body"},w?n.createElement("div",{className:"text-center py-4"},n.createElement("div",{className:"spinner-border",role:"status"},n.createElement("span",{className:"visually-hidden"},"Loading..."))):0===y.length?n.createElement("div",{className:"text-center py-5"},n.createElement("i",{className:"fas fa-sticky-note fa-3x text-muted mb-3"}),n.createElement("h5",null,"메모가 없습니다"),n.createElement("p",{className:"text-muted"},"첫 번째 메모를 작성해보세요!")):n.createElement(n.Fragment,null,s?n.createElement("div",{className:"row g-3"},y.map(function(e){return n.createElement("div",{key:e.id,className:"col-12"},n.createElement("div",{className:"card shadow-sm ".concat(e.is_completed?"bg-light":""),style:{borderRadius:"15px"}},n.createElement("div",{className:"card-body p-3"},n.createElement("div",{className:"d-flex justify-content-between align-items-start mb-2"},n.createElement("div",{className:"d-flex align-items-start flex-grow-1"},("my"===D||Z(e))&&n.createElement("div",{className:"me-2 mt-1"},n.createElement("input",{type:"checkbox",className:"form-check-input",checked:e.is_completed,onChange:function(){return V(e.id)},style:{transform:"scale(1.2)"}})),n.createElement("div",{className:"flex-grow-1"},n.createElement("h6",{className:"mb-1 ".concat(e.is_completed?"text-decoration-line-through text-muted":"text-dark")},e.title),n.createElement("div",{className:"d-flex flex-wrap gap-2 mb-2"},n.createElement("small",{className:"text-muted"},n.createElement("i",{className:"fas fa-calendar-alt me-1"}),u(e.date)),"public"===D&&n.createElement("small",{className:"text-muted"},n.createElement("i",{className:"fas fa-user me-1"}),"@",e.username)))),n.createElement("span",{className:X(e.priority),style:{fontSize:"0.75em"}},Y(e.priority))),e.content&&n.createElement("div",{className:"mb-3"},n.createElement("p",{className:"text-muted small mb-0",style:{fontSize:"0.9em",lineHeight:"1.4"}},e.content.length>150?e.content.substring(0,150)+"...":e.content)),n.createElement("div",{className:"d-flex justify-content-between align-items-center"},n.createElement("div",{className:"d-flex gap-2"},e.is_completed?n.createElement("span",{className:"badge bg-success rounded-pill",style:{fontSize:"0.7em"}},n.createElement("i",{className:"fas fa-check me-1"}),"완료"):n.createElement("span",{className:"badge bg-primary rounded-pill",style:{fontSize:"0.7em"}},n.createElement("i",{className:"fas fa-clock me-1"}),"진행중"),("my"===D||Z(e))&&n.createElement("span",{className:"badge rounded-pill ".concat("public"===e.visibility?"bg-info":"bg-secondary"),style:{fontSize:"0.7em"}},n.createElement("i",{className:"fas ".concat("public"===e.visibility?"fa-globe":"fa-lock"," me-1")}),"public"===e.visibility?"공개":"비공개")),("my"===D||Z(e))&&n.createElement("div",{className:"d-flex gap-1"},n.createElement("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-3",onClick:function(){return q(e)},style:{fontSize:"0.8em"}},n.createElement("i",{className:"fas fa-edit me-1"}),"수정"),n.createElement("button",{className:"btn btn-sm btn-outline-danger rounded-pill px-3",onClick:function(){return Q(e.id)},style:{fontSize:"0.8em"}},n.createElement("i",{className:"fas fa-trash me-1"}),"삭제"))))))})):n.createElement("div",{className:"table-responsive"},n.createElement("table",{className:"table table-hover"},n.createElement("thead",null,n.createElement("tr",null,"public"===D&&n.createElement("th",{width:"15%"},"작성자"),n.createElement("th",{width:"public"===D?"30%":"40%"},"제목"),n.createElement("th",{width:"15%"},"날짜"),n.createElement("th",{width:"10%"},"우선순위"),n.createElement("th",{width:"10%"},"공개설정"),n.createElement("th",{width:"10%"},"상태"),n.createElement("th",{width:"15%"},"작업"))),n.createElement("tbody",null,y.map(function(e){return n.createElement("tr",{key:e.id,className:e.is_completed?"table-secondary":""},"public"===D&&n.createElement("td",null,n.createElement("small",{className:"text-muted"},"@",e.username)),n.createElement("td",null,n.createElement("div",{className:"d-flex align-items-start"},("my"===D||Z(e))&&n.createElement("div",{className:"me-2 mt-1"},n.createElement("input",{type:"checkbox",className:"form-check-input",checked:e.is_completed,onChange:function(){return V(e.id)}})),n.createElement("div",{className:"flex-grow-1"},n.createElement("div",{className:"fw-bold ".concat(e.is_completed?"text-decoration-line-through text-muted":"")},e.title),e.content&&n.createElement("small",{className:"text-muted d-block mt-1"},e.content.length>100?e.content.substring(0,100)+"...":e.content)))),n.createElement("td",null,n.createElement("small",null,u(e.date))),n.createElement("td",null,n.createElement("span",{className:X(e.priority)},Y(e.priority))),n.createElement("td",null,"my"===D||Z(e)?n.createElement("span",{className:"badge ".concat("public"===e.visibility?"bg-info":"bg-secondary")},n.createElement("i",{className:"fas ".concat("public"===e.visibility?"fa-globe":"fa-lock"," me-1")}),"public"===e.visibility?"공개":"비공개"):n.createElement("span",{className:"badge bg-info"},n.createElement("i",{className:"fas fa-globe me-1"}),"공개")),n.createElement("td",null,e.is_completed?n.createElement("span",{className:"badge bg-success"},n.createElement("i",{className:"fas fa-check me-1"}),"완료"):n.createElement("span",{className:"badge bg-primary"},n.createElement("i",{className:"fas fa-clock me-1"}),"진행중")),n.createElement("td",null,"my"===D||Z(e)?n.createElement("div",{className:"btn-group btn-group-sm"},n.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return q(e)},title:"수정"},n.createElement("i",{className:"fas fa-edit"})),n.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return Q(e.id)},title:"삭제"},n.createElement("i",{className:"fas fa-trash"}))):n.createElement("div",{className:"text-muted small"},n.createElement("i",{className:"fas fa-user me-1"}),"@",e.username)))})))),N.pages>1&&n.createElement("nav",{className:"mt-4"},s?n.createElement("div",{className:"d-flex justify-content-between align-items-center"},n.createElement("button",{className:"btn btn-outline-primary rounded-pill px-4",onClick:function(){return W(N.current-1)},disabled:1===N.current,style:{fontSize:"0.9em"}},n.createElement("i",{className:"fas fa-chevron-left me-2"}),"이전"),n.createElement("div",{className:"d-flex align-items-center"},n.createElement("span",{className:"small text-muted me-2"},"페이지"),n.createElement("select",{className:"form-select form-select-sm",value:N.current,onChange:function(e){return W(parseInt(e.target.value))},style:{width:"auto",fontSize:"0.9em"}},Array.from({length:N.pages},function(e,t){return t+1}).map(function(e){return n.createElement("option",{key:e,value:e},e)})),n.createElement("span",{className:"small text-muted ms-2"},"/ ",N.pages)),n.createElement("button",{className:"btn btn-outline-primary rounded-pill px-4",onClick:function(){return W(N.current+1)},disabled:N.current===N.pages,style:{fontSize:"0.9em"}},"다음",n.createElement("i",{className:"fas fa-chevron-right ms-2"}))):n.createElement("ul",{className:"pagination justify-content-center"},n.createElement("li",{className:"page-item ".concat(1===N.current?"disabled":"")},n.createElement("button",{className:"page-link",onClick:function(){return W(N.current-1)},disabled:1===N.current},"이전")),Array.from({length:N.pages},function(e,t){return t+1}).map(function(e){return n.createElement("li",{key:e,className:"page-item ".concat(N.current===e?"active":"")},n.createElement("button",{className:"page-link",onClick:function(){return W(e)}},e))}),n.createElement("li",{className:"page-item ".concat(N.current===N.pages?"disabled":"")},n.createElement("button",{className:"page-link",onClick:function(){return W(N.current+1)},disabled:N.current===N.pages},"다음"))))))),_&&n.createElement("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"}},n.createElement("div",{className:"modal-dialog ".concat(s?"modal-fullscreen-sm-down":"modal-lg")},n.createElement("div",{className:"modal-content",style:s?{borderRadius:"0"}:{borderRadius:"15px"}},n.createElement("div",{className:"modal-header ".concat(s?"pb-2":"")},n.createElement("h5",{className:"modal-title ".concat(s?"h6":"")},n.createElement("i",{className:"fas ".concat(P?"fa-edit":"fa-plus"," me-2")}),P?"메모 수정":"메모 추가"),n.createElement("button",{type:"button",className:"btn-close",onClick:B})),n.createElement("form",{onSubmit:K},n.createElement("div",{className:"modal-body ".concat(s?"p-3":"")},n.createElement("div",{className:s?"row g-2":"row g-3"},n.createElement("div",{className:"col-12"},n.createElement("label",{className:"form-label ".concat(s?"small fw-semibold":"")},n.createElement("i",{className:"fas fa-heading me-1"}),"제목 *"),n.createElement("input",{type:"text",className:"form-control ".concat(""),value:M.title,onChange:function(e){return U(o(o({},M),{},{title:e.target.value}))},placeholder:"메모 제목을 입력하세요...",required:!0,style:s?{borderRadius:"10px"}:{}})),n.createElement("div",{className:s?"col-6":"col-md-4"},n.createElement("label",{className:"form-label ".concat(s?"small fw-semibold":"")},n.createElement("i",{className:"fas fa-calendar me-1"}),"날짜"),n.createElement("input",{type:"date",className:"form-control",value:M.date,onChange:function(e){return U(o(o({},M),{},{date:e.target.value}))},style:s?{borderRadius:"10px",fontSize:"0.9em"}:{}})),n.createElement("div",{className:s?"col-6":"col-md-4"},n.createElement("label",{className:"form-label ".concat(s?"small fw-semibold":"")},n.createElement("i",{className:"fas fa-flag me-1"}),"우선순위"),n.createElement("select",{className:"form-select",value:M.priority,style:s?{borderRadius:"10px",fontSize:"0.9em"}:{},onChange:function(e){return U(o(o({},M),{},{priority:e.target.value}))}},n.createElement("option",{value:"low"},"낮음"),n.createElement("option",{value:"medium"},"보통"),n.createElement("option",{value:"high"},"높음"))),n.createElement("div",{className:s?"col-6":"col-md-4"},n.createElement("label",{className:"form-label ".concat(s?"small fw-semibold":"")},n.createElement("i",{className:"fas fa-eye me-1"}),"공개 설정"),n.createElement("select",{className:"form-select",value:M.visibility,onChange:function(e){return U(o(o({},M),{},{visibility:e.target.value}))},style:s?{borderRadius:"10px",fontSize:"0.9em"}:{}},n.createElement("option",{value:"private"},"🔒 비공개"),n.createElement("option",{value:"public"},"🌐 공개"))),!s&&n.createElement("div",{className:"col-md-4"},n.createElement("label",{className:"form-label"},"상태"),n.createElement("div",{className:"form-check mt-2"},n.createElement("input",{type:"checkbox",className:"form-check-input",id:"isCompleted",checked:M.is_completed,onChange:function(e){return U(o(o({},M),{},{is_completed:e.target.checked}))}}),n.createElement("label",{className:"form-check-label",htmlFor:"isCompleted"},"완료됨"))),s&&n.createElement("div",{className:"col-12"},n.createElement("div",{className:"form-check"},n.createElement("input",{type:"checkbox",className:"form-check-input",id:"isCompletedMobile",checked:M.is_completed,onChange:function(e){return U(o(o({},M),{},{is_completed:e.target.checked}))},style:{transform:"scale(1.2)"}}),n.createElement("label",{className:"form-check-label ".concat(s?"small fw-semibold":""),htmlFor:"isCompletedMobile"},n.createElement("i",{className:"fas fa-check-circle me-1"}),"완료된 메모로 표시"))),n.createElement("div",{className:"col-12"},n.createElement("label",{className:"form-label ".concat(s?"small fw-semibold":"")},n.createElement("i",{className:"fas fa-align-left me-1"}),"내용"),n.createElement("textarea",{className:"form-control",style:s?{borderRadius:"10px",fontSize:"0.9em"}:{},rows:s?"4":"6",value:M.content,onChange:function(e){return U(o(o({},M),{},{content:e.target.value}))},placeholder:"메모 내용을 입력하세요..."})))),n.createElement("div",{className:"modal-footer ".concat(s?"p-3 gap-2":"")},s?n.createElement("div",{className:"d-grid gap-2"},n.createElement("button",{type:"submit",className:"btn btn-primary rounded-pill py-2"},n.createElement("i",{className:"fas ".concat(P?"fa-save":"fa-plus"," me-2")}),P?"수정 완료":"메모 추가"),n.createElement("button",{type:"button",className:"btn btn-outline-secondary rounded-pill py-2",onClick:B},n.createElement("i",{className:"fas fa-times me-2"}),"취소")):n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"btn btn-secondary",onClick:B},"취소"),n.createElement("button",{type:"submit",className:"btn btn-primary"},P?"수정":"추가"))))))))}}}]);