/*! For license information please see 275.483e8a847fcda2dedbdc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[275],{275:(e,n,t)=>{t.r(n),t.d(n,{default:()=>T});var r=t(540),a=t(17),o=t(591),i=t(688),l=t(72),c=t.n(l),m=t(284),s=t.n(m),d=t(659),A=t.n(d),u=t(868),g=t.n(u),f=t(159),p=t.n(f),E=t(611),b={attributes:{id:"budget-app-styles"}};function y(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=S(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function h(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var c=r&&r.prototype instanceof l?r:l,m=Object.create(c.prototype);return v(m,"_invoke",function(t,r,a){var o,l,c,m=0,s=a||[],d=!1,A={p:0,n:0,v:e,a:u,f:u.bind(e,4),d:function(n,t){return o=n,l=0,c=e,A.n=t,i}};function u(t,r){for(l=t,c=r,n=0;!d&&m&&!a&&n<s.length;n++){var a,o=s[n],u=A.p,g=o[2];t>3?(a=g===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=u&&((a=t<2&&u<o[1])?(l=0,A.v=r,A.n=o[1]):u<g&&(a=t<3||o[0]>r||r>g)&&(o[4]=t,o[5]=r,A.n=g,l=0))}if(a||t>1)return i;throw d=!0,r}return function(a,s,g){if(m>1)throw TypeError("Generator is already running");for(d&&1===s&&u(s,g),l=s,c=g;(n=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(A.n=-1),u(l,c)):A.n=c:A.v=c);try{if(m=2,o){if(l||(a="next"),n=o[a]){if(!(n=n.call(o,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=o.return)&&n.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((n=(d=A.n<0)?c:t.call(r,A))!==i)break}catch(n){o=e,l=1,c=n}finally{m=1}}return{value:n,done:d}}}(t,a,o),!0),m}var i={};function l(){}function c(){}function m(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(v(n={},r,function(){return this}),n),d=m.prototype=l.prototype=Object.create(s);function A(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,v(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=m,v(d,"constructor",m),v(m,"constructor",c),c.displayName="GeneratorFunction",v(m,a,"GeneratorFunction"),v(d),v(d,a,"Generator"),v(d,r,function(){return this}),v(d,"toString",function(){return"[object Generator]"}),(h=function(){return{w:o,m:A}})()}function v(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}v=function(e,n,t,r){function o(n,t){v(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},v(e,n,t,r)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function B(e,n,t,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,a)}function x(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){B(o,r,a,i,l,"next",e)}function l(e){B(o,r,a,i,l,"throw",e)}i(void 0)})}}function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach(function(n){N(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function N(e,n,t){return(n=function(e){var n=function(e){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=C(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,m=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){m=!0,a=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(m)throw a}}return l}}(e,n)||S(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){if(e){if("string"==typeof e)return O(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,n):void 0}}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}b.setAttributes=g(),b.insert=A().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=p(),c()(E.A,b),E.A&&E.A.locals&&E.A.locals;var I=function(){var e=new Date,n=e.getTime()+6e4*e.getTimezoneOffset();return new Date(n+324e5).toISOString().split("T")[0]},j=function(e){var n,t,a=e.row,o=(e.index,e.assets),i=e.categories,l=e.onUpdate,c=e.onRemove,m=e.getMidCategoriesForRow,s=e.getSubCategoriesForRow,d=e.getMainCategoriesForType,A=_((0,r.useState)(a.selectedMain||""),2),u=A[0],g=A[1],f=_((0,r.useState)(a.selectedMid||""),2),p=f[0],E=f[1];r.useEffect(function(){g(a.selectedMain||""),E(a.selectedMid||"")},[a.selectedMain,a.selectedMid]);var b=d(a.type),y=m(u,a.type),h=s(p,a.type);return r.createElement("tr",null,r.createElement("td",null,r.createElement("select",{className:"form-select form-select-sm",value:a.type,onChange:function(e){return n=e.target.value,l(a.id,"type",n),l(a.id,"category_id",""),l(a.id,"selectedMain",""),l(a.id,"selectedMid",""),g(""),void E("");var n}},r.createElement("option",{value:""},"선택"),r.createElement("option",{value:"income"},"수입"),r.createElement("option",{value:"expense"},"지출"))),r.createElement("td",null,r.createElement("input",{type:"number",className:"form-control form-control-sm",value:a.amount,onChange:function(e){return l(a.id,"amount",e.target.value)},placeholder:"금액"})),r.createElement("td",null,r.createElement("input",{type:"text",className:"form-control form-control-sm",value:a.description,onChange:function(e){return l(a.id,"description",e.target.value)},placeholder:"거래 내용"})),r.createElement("td",null,r.createElement("select",{className:"form-select form-select-sm",value:a.asset_id,onChange:function(e){return l(a.id,"asset_id",e.target.value)}},r.createElement("option",{value:""},"자산 선택"),o.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.name)}))),r.createElement("td",null,r.createElement("div",{className:"category-select-grid"},r.createElement("select",{className:"form-select form-select-sm mb-1",value:u,onChange:function(e){return n=e.target.value,g(n),l(a.id,"selectedMain",n),l(a.id,"category_id",n),l(a.id,"selectedMid",""),void E("");var n},disabled:!a.type},r.createElement("option",{value:""},"대분류 선택"),b.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.name)})),u&&r.createElement("select",{className:"form-select form-select-sm mb-1",value:p,onChange:function(e){return n=e.target.value,E(n),l(a.id,"selectedMid",n),void l(a.id,"category_id",n);var n}},r.createElement("option",{value:""},"중분류 선택"),y.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.name)})),p&&h.length>0&&r.createElement("select",{className:"form-select form-select-sm",value:(null===(n=h.find(function(e){return e.id==a.category_id}))||void 0===n?void 0:n.id)||"",onChange:function(e){return n=e.target.value,void l(a.id,"category_id",n);var n}},r.createElement("option",{value:""},"소분류 선택"),h.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.name)})),a.category_id&&r.createElement("div",{className:"selected-category-info"},r.createElement("small",{className:"text-primary"},r.createElement("i",{className:"fas fa-check-circle me-1"}),null===(t=i.find(function(e){return e.id==a.category_id}))||void 0===t?void 0:t.name)))),r.createElement("td",null,r.createElement("input",{type:"date",className:"form-control form-control-sm",value:a.date,onChange:function(e){return l(a.id,"date",e.target.value)}})),r.createElement("td",null,r.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:function(){return c(a.id)}},r.createElement("i",{className:"fas fa-trash"}))))};const T=function(e){var n,t,l=e.show,c=e.onHide,m=e.onSubmit,s=e.transaction,d=void 0===s?null:s,A=e.initialDate,u=void 0===A?null:A,g=(0,a.E)().categories,f=(0,o.A)().authToken,p=_((0,r.useState)(!1),2),E=(p[0],p[1]),b=_((0,r.useState)({amount:"",description:"",category_id:"",type:"",date:u||I(),asset_id:""}),2),v=b[0],B=b[1],w=_((0,r.useState)(""),2),T=w[0],P=w[1],z=_((0,r.useState)(""),2),M=z[0],D=z[1],F=_((0,r.useState)(!1),2),q=F[0],Y=F[1],W=_((0,r.useState)(""),2),R=W[0],G=W[1],U=_((0,r.useState)([]),2),Z=U[0],H=U[1],L=_((0,r.useState)(""),2),X=L[0],$=L[1],J=_((0,r.useState)([]),2),K=J[0],Q=J[1],V=_((0,r.useState)(!1),2),ee=V[0],ne=V[1];(0,r.useEffect)(function(){var e=setTimeout(function(){var e=document.createElement("div");e.className="transaction-modal",e.style.visibility="hidden",e.style.position="absolute",document.body.appendChild(e);var n=window.getComputedStyle(e),t="fixed"===n.position||"1050"===n.zIndex;return document.body.removeChild(e),E(!0),t},100);return function(){return clearTimeout(e)}},[]),(0,r.useEffect)(function(){console.log("TransactionModal useEffect 실행:",{show:l,authToken:f?"".concat(f.substring(0,20),"..."):"null",hasAuthToken:!!f}),l&&f?(console.log("조건 충족: 자산 로딩 시작"),H([]),te()):(console.log("자산 로드 조건 미충족:",{show:l,hasAuthToken:!!f,reason:l?f?"unknown":"no auth token":"modal not shown"}),l||H([]))},[l,f]),(0,r.useEffect)(function(){l||d||ae()},[l,d]),(0,r.useEffect)(function(){u&&!d&&(B(function(e){return k(k({},e),{},{date:u})}),ee&&K.length>0&&Q(function(e){return e.map(function(e){return k(k({},e),{},{date:u})})}))},[u,d,ee]),(0,r.useEffect)(function(){if(l&&!d){var e=function(){var e=window.innerWidth>=768;ne(e),e&&0===K.length?oe():e||Q([])};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}},[l,d]);var te=function(){var e=x(h().m(function e(){var n,t;return h().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,console.log("자산 목록 로딩 시작, authToken:",!!f),e.n=1,(0,i.H2)("/assets",{token:f});case 1:n=e.v,console.log("API 응답:",n),console.log("API 응답 타입:",C(n),Array.isArray(n)),console.log("API 응답 길이:",null==n?void 0:n.length),n&&Array.isArray(n)?(console.log("자산 목록 로드 완료:",n),H(n)):(console.log("API 응답이 올바르지 않음. 빈 배열로 설정."),H([])),e.n=3;break;case 2:e.p=2,t=e.v,console.error("자산 목록 로드 오류:",t),console.log("오류로 인해 빈 배열 설정"),H([]);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)(function(){if(d){if(B({amount:d.amount||"",description:d.description||"",category_id:d.category_id||"",type:d.type||"",date:d.date||I(),asset_id:d.asset_id||""}),d.category_id){var e=g.find(function(e){return e.id==d.category_id});if(e)if(e.parent_id){var n=g.find(function(n){return n.id==e.parent_id});if(n&&n.parent_id){var t=g.find(function(e){return e.id==n.parent_id});P((null==t?void 0:t.id)||""),D(n.id)}else P((null==n?void 0:n.id)||""),D("")}else P(""),D("")}}else B({amount:"",description:"",category_id:"",type:"",date:I(),asset_id:""}),P(""),D("")},[d,l,g]);var re=function(){var e=x(h().m(function e(n){var t,r,a=arguments;return h().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=a.length>1&&void 0!==a[1]&&a[1],n.preventDefault(),Y(!0),G(""),v.asset_id){e.n=1;break}return Z.length>0?G("자산을 선택해주세요."):G("거래를 추가하려면 먼저 자산을 등록해야 합니다. 자산 관리 페이지에서 자산을 추가해주세요."),Y(!1),e.a(2);case 1:return e.p=1,e.n=2,m(v);case 2:(r=e.v).success?t?(B({amount:"",description:"",category_id:"",type:v.type,date:I(),asset_id:v.asset_id}),P(""),D(""),G(""),$("거래가 추가되었습니다! 계속 추가할 수 있습니다."),setTimeout(function(){return $("")},3e3)):(c(),ae()):G(r.message),e.n=4;break;case 3:e.p=3,e.v,G("거래 추가 중 오류가 발생했습니다.");case 4:return e.p=4,Y(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(n){return e.apply(this,arguments)}}(),ae=function(){B({amount:"",description:"",category_id:"",type:"",date:u||I(),asset_id:""}),P(""),D(""),G(""),$(""),Q([]),ne(!1)},oe=function(){var e={id:Date.now()+Math.random(),amount:"",description:"",category_id:"",type:"",date:u||I(),asset_id:"",selectedMain:"",selectedMid:""};Q(function(n){return[].concat(function(e){if(Array.isArray(e))return O(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||S(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var t})},ie=function(e){Q(function(n){return n.filter(function(n){return n.id!==e})})},le=function(e,n,t){Q(function(r){return r.map(function(r){return r.id===e?k(k({},r),{},N({},n,t)):r})})},ce=function(){var e=x(h().m(function e(){var n,t,r,a,o,i,l,s;return h().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Y(!0),G(""),$(""),n=K.filter(function(e){return e.amount&&e.description&&e.type&&e.category_id&&e.asset_id}),t=K.filter(function(e){return e.amount&&e.description&&e.type&&e.category_id&&!e.asset_id}),0!==n.length){e.n=1;break}return t.length>0?G("모든 거래에 자산을 선택해주세요."):G("최소 한 건의 완전한 거래를 입력해주세요."),Y(!1),e.a(2);case 1:e.p=1,r=0,a=0,o=y(n),e.p=2,o.s();case 3:if((i=o.n()).done){e.n=8;break}return l=i.value,e.p=4,e.n=5,m({amount:l.amount,description:l.description,category_id:l.category_id,type:l.type,date:l.date,asset_id:l.asset_id});case 5:e.v.success?r++:a++,e.n=7;break;case 6:e.p=6,e.v,a++;case 7:e.n=3;break;case 8:e.n=10;break;case 9:e.p=9,s=e.v,o.e(s);case 10:return e.p=10,o.f(),e.f(10);case 11:r>0&&($("".concat(r,"건의 거래가 성공적으로 추가되었습니다.")),0===a&&setTimeout(function(){c(),ae()},2e3)),a>0&&G("".concat(a,"건의 거래 추가에 실패했습니다.")),e.n=13;break;case 12:e.p=12,e.v,G("거래 추가 중 오류가 발생했습니다.");case 13:return e.p=13,Y(!1),e.f(13);case 14:return e.a(2)}},e,null,[[4,6],[2,9,10,11],[1,12,13,14]])}));return function(){return e.apply(this,arguments)}}(),me=function(e){var n=e.target,t=n.name,r=n.value;"type"===t?(P(""),D(""),B(k(k({},v),{},N(N({},t,r),"category_id","")))):B(k(k({},v),{},N({},t,r)))},se=g.filter(function(e){return!v.type||e.type===v.type}),de=se.filter(function(e){return!e.parent_id}),Ae=T?se.filter(function(e){return e.parent_id==T}):[],ue=M?se.filter(function(e){return e.parent_id==M}):[],ge=function(e,n){return g.filter(function(e){return!n||e.type===n}).filter(function(n){return e&&n.parent_id==e})},fe=function(e,n){return g.filter(function(e){return!n||e.type===n}).filter(function(n){return e&&n.parent_id==e})},pe=function(e){return g.filter(function(n){return!e||n.type===e}).filter(function(e){return!e.parent_id})};return r.createElement("div",{className:"modal fade transaction-modal ".concat(ee?"grid-mode":""," ").concat(l?"show":""),style:{display:l?"block":"none"},tabIndex:"-1"},r.createElement("div",{className:"modal-dialog"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title"},d?"거래 수정":"거래 추가"),r.createElement("button",{type:"button",className:"btn-close",onClick:c})),r.createElement("div",{className:"modal-body"},R&&r.createElement("div",{className:"alert alert-danger",role:"alert"},R),X&&r.createElement("div",{className:"alert alert-success",role:"alert"},r.createElement("i",{className:"fas fa-check-circle me-2"}),X),ee?r.createElement("div",{className:"transaction-grid"},r.createElement("div",{className:"d-flex justify-content-between align-items-center mb-3"},r.createElement("h6",{className:"mb-0"},"거래 목록"),r.createElement("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:oe},r.createElement("i",{className:"fas fa-plus me-1"}),"행 추가")),r.createElement("div",{className:"table-responsive"},r.createElement("table",{className:"table table-sm"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{width:"80"},"타입"),r.createElement("th",{width:"110"},"금액"),r.createElement("th",{width:"180"},"내용"),r.createElement("th",{width:"140"},"자산"),r.createElement("th",{width:"200"},"카테고리"),r.createElement("th",{width:"130"},"날짜"),r.createElement("th",{width:"60"},"삭제"))),r.createElement("tbody",null,K.map(function(e,n){return r.createElement(j,{key:e.id,row:e,index:n,assets:Z,categories:g,onUpdate:le,onRemove:ie,getMidCategoriesForRow:ge,getSubCategoriesForRow:fe,getMainCategoriesForType:pe})}))))):r.createElement("form",{onSubmit:re},r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},"타입"),r.createElement("select",{className:"form-select",name:"type",value:v.type,onChange:me,required:!0},r.createElement("option",{value:""},"선택하세요"),r.createElement("option",{value:"income"},"수입"),r.createElement("option",{value:"expense"},"지출"))),r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},"금액"),r.createElement("input",{type:"number",className:"form-control",name:"amount",value:v.amount,onChange:me,required:!0})),r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},"설명"),r.createElement("input",{type:"text",className:"form-control",name:"description",value:v.description,onChange:me})),v.type&&r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},"자산 ",r.createElement("span",{className:"text-danger"},"*")),r.createElement("select",{className:"form-select",name:"asset_id",value:v.asset_id,onChange:me,required:Z.length>0},r.createElement("option",{value:""},"자산을 선택하세요 (총 ",Z.length,"개)"),Z.length>0?Z.map(function(e,n){return console.log("Asset 렌더링:",e),r.createElement("option",{key:e.id,value:e.id},e.type_name," - ",e.name)}):r.createElement("option",{disabled:!0},"등록된 자산이 없습니다 (디버그: assets.length = ",Z.length,")")),0===Z.length&&r.createElement("div",{className:"alert alert-warning mt-2"},r.createElement("i",{className:"fas fa-exclamation-triangle me-2"}),"거래를 추가하려면 먼저 자산을 등록해야 합니다.",r.createElement("br",null),r.createElement("a",{href:"/assets",className:"btn btn-sm btn-outline-primary mt-2"},r.createElement("i",{className:"fas fa-plus me-1"}),"자산 추가하러 가기")),r.createElement("small",{className:"form-text text-muted"},"거래가 발생할 자산을 선택해주세요. ","income"===v.type?"수입 시 자산이 증가됩니다.":"지출 시 자산이 감소됩니다.",r.createElement("br",null),r.createElement("strong",null,"현재 로드된 자산 개수: ",Z.length,"개"),0===Z.length&&r.createElement("div",{className:"text-warning mt-1"},r.createElement("i",{className:"fas fa-exclamation-triangle me-1"}),"먼저 ",r.createElement("a",{href:"/assets",target:"_blank",rel:"noopener noreferrer"},"자산 관리"),"에서 자산을 등록해주세요."))),v.type&&r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},"카테고리"),r.createElement("div",{className:"category-selection"},r.createElement("div",{className:"category-progress"},r.createElement("span",{className:"step ".concat(T?"active":"")},"대분류"),r.createElement("span",{className:"arrow"},"→"),r.createElement("span",{className:"step ".concat(M?"active":"")},"중분류"),r.createElement("span",{className:"arrow"},"→"),r.createElement("span",{className:"step ".concat(M&&ue.length>0&&v.category_id&&ue.find(function(e){return e.id==v.category_id})?"active":"")},"소분류")),r.createElement("div",{className:"category-step"},r.createElement("label",null,"1. 대분류 선택"),r.createElement("select",{className:"form-select",value:T,onChange:function(e){var n=e.target.value;P(n),D(""),B(k(k({},v),{},{category_id:n}))},disabled:!v.type},r.createElement("option",{value:""},"대분류를 선택하세요"),de.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.name)}))),T&&Ae.length>0&&r.createElement("div",{className:"category-step"},r.createElement("label",null,"2. 중분류 선택 (선택사항)"),r.createElement("select",{className:"form-select",value:M,onChange:function(e){var n=e.target.value;D(n),B(k(k({},v),{},{category_id:n}))}},r.createElement("option",{value:""},"중분류를 선택하세요"),Ae.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.name)}))),M&&ue.length>0&&r.createElement("div",{className:"category-step"},r.createElement("label",null,"3. 소분류 선택 (선택사항)"),r.createElement("select",{className:"form-select",value:(null===(n=ue.find(function(e){return e.id==v.category_id}))||void 0===n?void 0:n.id)||"",onChange:function(e){var n=e.target.value;B(k(k({},v),{},{category_id:n}))}},r.createElement("option",{value:""},"소분류를 선택하세요"),ue.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.name)}))),v.category_id&&r.createElement("div",{className:"selected-category"},r.createElement("i",{className:"fas fa-check-circle me-2"}),"선택된 카테고리: ",null===(t=g.find(function(e){return e.id==v.category_id}))||void 0===t?void 0:t.name))),r.createElement("div",{className:"mb-3"},r.createElement("label",{className:"form-label"},"날짜"),r.createElement("input",{type:"date",className:"form-control",name:"date",value:v.date,onChange:me,required:!0})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:c},"취소"),ee?r.createElement(r.Fragment,null,r.createElement("button",{type:"button",className:"btn btn-outline-primary me-2",onClick:oe,disabled:q},r.createElement("i",{className:"fas fa-plus me-1"}),"행 추가"),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:ce,disabled:q||0===K.length},q?"저장 중...":"".concat(K.length,"건 일괄 저장"))):r.createElement(r.Fragment,null,!d&&r.createElement("button",{type:"button",className:"btn btn-success d-none d-md-inline-block me-2",onClick:function(e){return re(e,!0)},disabled:q},q?"추가 중...":"추가 후 계속"),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return re(e,!1)},disabled:q},q?"저장 중...":d?"수정":"추가 완료"))))))}},611:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(354),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* Transaction Modal Styles - 강제 적용 */\n.transaction-modal.modal {\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  z-index: 1050 !important;\n  width: 100% !important;\n  height: 100% !important;\n  background-color: rgba(0, 0, 0, 0.5) !important;\n}\n\n.transaction-modal .modal-dialog {\n  max-width: 900px !important;\n  margin: 1rem auto !important;\n  max-height: calc(100vh - 2rem) !important;\n  overflow-y: auto !important;\n  position: relative !important;\n}\n\n/* PC 버전에서 더 넓은 모달 */\n@media (min-width: 992px) {\n  .transaction-modal .modal-dialog {\n    max-width: 1000px !important;\n  }\n  \n  /* 그리드 모드일 때 더 넓게 */\n  .transaction-modal.grid-mode .modal-dialog {\n    max-width: 1300px !important;\n  }\n}\n\n@media (min-width: 1200px) {\n  .transaction-modal .modal-dialog {\n    max-width: 1100px !important;\n  }\n  \n  /* 그리드 모드일 때 더 넓게 */\n  .transaction-modal.grid-mode .modal-dialog {\n    max-width: 1500px !important;\n  }\n}\n\n/* 모달 내용 영역 스크롤 처리 */\n.transaction-modal .modal-content {\n  max-height: calc(100vh - 2rem);\n  display: flex;\n  flex-direction: column;\n}\n\n.transaction-modal .modal-body {\n  overflow-y: auto;\n  flex: 1;\n}\n\n/* 카테고리 선택 영역 */\n.category-selection {\n  background: #f8f9fa;\n  border-radius: 8px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n}\n\n.category-step {\n  margin-bottom: 0.75rem;\n}\n\n.category-step:last-child {\n  margin-bottom: 0;\n}\n\n.category-step label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #495057;\n  margin-bottom: 0.25rem;\n  display: block;\n}\n\n/* 선택된 카테고리 표시 */\n.selected-category {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 0.5rem 1rem;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  text-align: center;\n}\n\n/* 모바일 최적화 */\n@media (max-width: 768px) {\n  .transaction-modal .modal-dialog {\n    margin: 0.5rem;\n    max-width: calc(100% - 1rem);\n    max-height: calc(100vh - 1rem);\n  }\n  \n  .transaction-modal .modal-body {\n    padding: 1rem;\n  }\n  \n  .category-selection {\n    padding: 0.75rem;\n  }\n  \n  .form-select {\n    font-size: 16px; /* iOS 줌 방지 */\n  }\n}\n\n@media (max-width: 576px) {\n  .transaction-modal .modal-dialog {\n    margin: 0.25rem;\n    max-width: calc(100% - 0.5rem);\n    max-height: calc(100vh - 0.5rem);\n  }\n  \n  .transaction-modal .modal-header {\n    padding: 0.75rem 1rem;\n  }\n  \n  .transaction-modal .modal-footer {\n    padding: 0.75rem 1rem;\n    gap: 0.5rem;\n  }\n  \n  .transaction-modal .modal-footer .btn {\n    flex: 1;\n    min-width: 0;\n  }\n}\n\n/* 단계별 진행 표시 */\n.category-progress {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n  font-size: 0.75rem;\n  color: #6c757d;\n}\n\n.category-progress .step {\n  padding: 0.25rem 0.5rem;\n  background: #e9ecef;\n  border-radius: 4px;\n}\n\n.category-progress .step.active {\n  background: #667eea;\n  color: white;\n}\n\n.category-progress .arrow {\n  color: #adb5bd;\n}\n\n/* 여러 거래 추가 기능 */\n.modal-footer .btn-success {\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\n  border: none;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.modal-footer .btn-success:hover {\n  background: linear-gradient(135deg, #218838 0%, #1ea085 100%);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);\n}\n\n/* PC 버전에서 버튼 간격 조정 */\n@media (min-width: 768px) {\n  .modal-footer {\n    gap: 0.5rem;\n  }\n  \n  .modal-footer .btn {\n    min-width: 100px;\n  }\n}\n\n/* 거래 그리드 스타일 */\n.transaction-grid {\n  min-height: 300px;\n}\n\n.transaction-grid .table-responsive {\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.transaction-grid table {\n  margin-bottom: 0;\n}\n\n.transaction-grid th {\n  background-color: #f8f9fa;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  border-bottom: 2px solid #dee2e6;\n  font-weight: 600;\n  font-size: 0.875rem;\n}\n\n.transaction-grid td {\n  padding: 0.5rem 0.25rem;\n  vertical-align: middle;\n}\n\n.transaction-grid .form-control-sm,\n.transaction-grid .form-select-sm {\n  font-size: 0.875rem;\n}\n\n.category-select-grid {\n  min-width: 180px;\n}\n\n.category-select-grid .form-select-sm {\n  margin-bottom: 3px;\n}\n\n.category-select-grid .form-select-sm:last-child {\n  margin-bottom: 0;\n}\n\n.category-select-grid .selected-category-info {\n  margin-top: 3px;\n  padding: 2px 6px;\n  background-color: rgba(0, 123, 255, 0.1);\n  border-radius: 3px;\n  font-size: 0.75rem;\n}\n\n/* 그리드 행 호버 효과 */\n.transaction-grid tbody tr:hover {\n  background-color: rgba(0, 123, 255, 0.05);\n}\n\n/* 그리드에서 삭제 버튼 */\n.transaction-grid .btn-outline-danger {\n  padding: 0.25rem 0.5rem;\n}\n\n.transaction-grid .btn-outline-danger:hover {\n  background-color: #dc3545;\n  border-color: #dc3545;\n}","",{version:3,sources:["webpack://./src/components/modals/TransactionModal.css"],names:[],mappings:"AAAA,qCAAqC;AACrC;EACE,0BAA0B;EAC1B,iBAAiB;EACjB,kBAAkB;EAClB,wBAAwB;EACxB,sBAAsB;EACtB,uBAAuB;EACvB,+CAA+C;AACjD;;AAEA;EACE,2BAA2B;EAC3B,4BAA4B;EAC5B,yCAAyC;EACzC,2BAA2B;EAC3B,6BAA6B;AAC/B;;AAEA,oBAAoB;AACpB;EACE;IACE,4BAA4B;EAC9B;;EAEA,mBAAmB;EACnB;IACE,4BAA4B;EAC9B;AACF;;AAEA;EACE;IACE,4BAA4B;EAC9B;;EAEA,mBAAmB;EACnB;IACE,4BAA4B;EAC9B;AACF;;AAEA,oBAAoB;AACpB;EACE,8BAA8B;EAC9B,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,OAAO;AACT;;AAEA,eAAe;AACf;EACE,mBAAmB;EACnB,kBAAkB;EAClB,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;EAChB,cAAc;EACd,sBAAsB;EACtB,cAAc;AAChB;;AAEA,gBAAgB;AAChB;EACE,6DAA6D;EAC7D,YAAY;EACZ,oBAAoB;EACpB,kBAAkB;EAClB,mBAAmB;EACnB,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA,YAAY;AACZ;EACE;IACE,cAAc;IACd,4BAA4B;IAC5B,8BAA8B;EAChC;;EAEA;IACE,aAAa;EACf;;EAEA;IACE,gBAAgB;EAClB;;EAEA;IACE,eAAe,EAAE,aAAa;EAChC;AACF;;AAEA;EACE;IACE,eAAe;IACf,8BAA8B;IAC9B,gCAAgC;EAClC;;EAEA;IACE,qBAAqB;EACvB;;EAEA;IACE,qBAAqB;IACrB,WAAW;EACb;;EAEA;IACE,OAAO;IACP,YAAY;EACd;AACF;;AAEA,cAAc;AACd;EACE,aAAa;EACb,mBAAmB;EACnB,WAAW;EACX,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,uBAAuB;EACvB,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,cAAc;AAChB;;AAEA,gBAAgB;AAChB;EACE,6DAA6D;EAC7D,YAAY;EACZ,gBAAgB;EAChB,yBAAyB;AAC3B;;AAEA;EACE,6DAA6D;EAC7D,2BAA2B;EAC3B,6CAA6C;AAC/C;;AAEA,qBAAqB;AACrB;EACE;IACE,WAAW;EACb;;EAEA;IACE,gBAAgB;EAClB;AACF;;AAEA,eAAe;AACf;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,gBAAgB;EAChB,MAAM;EACN,WAAW;EACX,gCAAgC;EAChC,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,sBAAsB;AACxB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,wCAAwC;EACxC,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA,gBAAgB;AAChB;EACE,yCAAyC;AAC3C;;AAEA,gBAAgB;AAChB;EACE,uBAAuB;AACzB;;AAEA;EACE,yBAAyB;EACzB,qBAAqB;AACvB",sourcesContent:["/* Transaction Modal Styles - 강제 적용 */\r\n.transaction-modal.modal {\r\n  position: fixed !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  z-index: 1050 !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  background-color: rgba(0, 0, 0, 0.5) !important;\r\n}\r\n\r\n.transaction-modal .modal-dialog {\r\n  max-width: 900px !important;\r\n  margin: 1rem auto !important;\r\n  max-height: calc(100vh - 2rem) !important;\r\n  overflow-y: auto !important;\r\n  position: relative !important;\r\n}\r\n\r\n/* PC 버전에서 더 넓은 모달 */\r\n@media (min-width: 992px) {\r\n  .transaction-modal .modal-dialog {\r\n    max-width: 1000px !important;\r\n  }\r\n  \r\n  /* 그리드 모드일 때 더 넓게 */\r\n  .transaction-modal.grid-mode .modal-dialog {\r\n    max-width: 1300px !important;\r\n  }\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  .transaction-modal .modal-dialog {\r\n    max-width: 1100px !important;\r\n  }\r\n  \r\n  /* 그리드 모드일 때 더 넓게 */\r\n  .transaction-modal.grid-mode .modal-dialog {\r\n    max-width: 1500px !important;\r\n  }\r\n}\r\n\r\n/* 모달 내용 영역 스크롤 처리 */\r\n.transaction-modal .modal-content {\r\n  max-height: calc(100vh - 2rem);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.transaction-modal .modal-body {\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n/* 카테고리 선택 영역 */\r\n.category-selection {\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.category-step {\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.category-step:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.category-step label {\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin-bottom: 0.25rem;\r\n  display: block;\r\n}\r\n\r\n/* 선택된 카테고리 표시 */\r\n.selected-category {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 6px;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n  text-align: center;\r\n}\r\n\r\n/* 모바일 최적화 */\r\n@media (max-width: 768px) {\r\n  .transaction-modal .modal-dialog {\r\n    margin: 0.5rem;\r\n    max-width: calc(100% - 1rem);\r\n    max-height: calc(100vh - 1rem);\r\n  }\r\n  \r\n  .transaction-modal .modal-body {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .category-selection {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .form-select {\r\n    font-size: 16px; /* iOS 줌 방지 */\r\n  }\r\n}\r\n\r\n@media (max-width: 576px) {\r\n  .transaction-modal .modal-dialog {\r\n    margin: 0.25rem;\r\n    max-width: calc(100% - 0.5rem);\r\n    max-height: calc(100vh - 0.5rem);\r\n  }\r\n  \r\n  .transaction-modal .modal-header {\r\n    padding: 0.75rem 1rem;\r\n  }\r\n  \r\n  .transaction-modal .modal-footer {\r\n    padding: 0.75rem 1rem;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .transaction-modal .modal-footer .btn {\r\n    flex: 1;\r\n    min-width: 0;\r\n  }\r\n}\r\n\r\n/* 단계별 진행 표시 */\r\n.category-progress {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n  font-size: 0.75rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.category-progress .step {\r\n  padding: 0.25rem 0.5rem;\r\n  background: #e9ecef;\r\n  border-radius: 4px;\r\n}\r\n\r\n.category-progress .step.active {\r\n  background: #667eea;\r\n  color: white;\r\n}\r\n\r\n.category-progress .arrow {\r\n  color: #adb5bd;\r\n}\r\n\r\n/* 여러 거래 추가 기능 */\r\n.modal-footer .btn-success {\r\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\r\n  border: none;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.modal-footer .btn-success:hover {\r\n  background: linear-gradient(135deg, #218838 0%, #1ea085 100%);\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);\r\n}\r\n\r\n/* PC 버전에서 버튼 간격 조정 */\r\n@media (min-width: 768px) {\r\n  .modal-footer {\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .modal-footer .btn {\r\n    min-width: 100px;\r\n  }\r\n}\r\n\r\n/* 거래 그리드 스타일 */\r\n.transaction-grid {\r\n  min-height: 300px;\r\n}\r\n\r\n.transaction-grid .table-responsive {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.transaction-grid table {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.transaction-grid th {\r\n  background-color: #f8f9fa;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  border-bottom: 2px solid #dee2e6;\r\n  font-weight: 600;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.transaction-grid td {\r\n  padding: 0.5rem 0.25rem;\r\n  vertical-align: middle;\r\n}\r\n\r\n.transaction-grid .form-control-sm,\r\n.transaction-grid .form-select-sm {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.category-select-grid {\r\n  min-width: 180px;\r\n}\r\n\r\n.category-select-grid .form-select-sm {\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.category-select-grid .form-select-sm:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.category-select-grid .selected-category-info {\r\n  margin-top: 3px;\r\n  padding: 2px 6px;\r\n  background-color: rgba(0, 123, 255, 0.1);\r\n  border-radius: 3px;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n/* 그리드 행 호버 효과 */\r\n.transaction-grid tbody tr:hover {\r\n  background-color: rgba(0, 123, 255, 0.05);\r\n}\r\n\r\n/* 그리드에서 삭제 버튼 */\r\n.transaction-grid .btn-outline-danger {\r\n  padding: 0.25rem 0.5rem;\r\n}\r\n\r\n.transaction-grid .btn-outline-danger:hover {\r\n  background-color: #dc3545;\r\n  border-color: #dc3545;\r\n}"],sourceRoot:""}]);const l=i}}]);